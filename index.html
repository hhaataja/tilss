<!doctype html>
<html>
  <head>
    <script type='text/javascript' src='https://cdn.firebase.com/v0/firebase.js'></script>
    <script type='text/javascript' src='https://cdn.firebase.com/js/simple-login/1.2.5/firebase-simple-login.js'></script>
    <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js'></script>
    <script type='text/javascript' src='https://ajax.aspnetcdn.com/ajax/knockout/knockout-3.0.0.js'></script>
    <link rel='stylesheet' type='text/css' href='./css/tilss.css'>
  </head>
  <body>
    <div id="loginDiv">
        <!-- <a href="#" onclick="onLoginButtonClicked()" id="login">Login</a> -->
        <a href="#" data-bind="click: $data.displayLogin" id="login">Login</a>
    </div>
    <div id="listsDiv" data-bind='visible: $data.loggedUser'>
        <h2>My lists</h2>
        <div class="list" data-bind='foreach: lists'>
            <div class="listheader">
                <h4>
                    "<span data-bind='text: listname'></span>"
                    <button type="button" data-bind="click: $data.deleteList">x</button>
                </h4>
            </div>
            <div class="items_list">
                <ul data-bind='foreach: items'>
                    <li data-bind="attr: {id: 'item'+ itemid()}">
                        <span data-bind="text: item, click: $data.toggleEditor, attr: {id: 'item_text'+ itemid()}"></span>
                        <div class="item_edit" hidden="hidden" data-bind="attr: {id: 'item_edit'+ itemid()}">
                            <input data-bind='value: $data.newitem'></input>
                            <button type="button" data-bind="click: $data.updateItem">OK</button>
                            <button type="button" data-bind="click: $data.toggleEditor">cancel</button>
                        </div>
                        <button type="button" data-bind="click: $data.deleteItem, attr: {id: 'item_delete'+ itemid()}">x</button>
                    </li>
                </ul>
            </div>
            <div class="item_add">
                <input data-bind="attr: {id: 'newitem'+ listid()}" type='text' placeholder="Add new item..."/>
                <button type="button" data-bind="click: $data.addNewItem">add</button>
                <br /><br />
            </div>
        </div>

        <h2> Create a new list </h2>
        <input type='text' id='listname' placeholder='List name'/>
        <button type="button" data-bind="click: $data.addNewList">add</button>

    </div>
    <!-- KnockoutJS debug console
    <pre>Knockout debug: </pre>
    <pre data-bind="text: ko.toJSON($data, null, 2)"></pre> -->

    <script src="./js/tilss.js" type="text/javascript" >
    </script>
    <script type='text/javascript'>
        $(document).ready(function(){
          // Activate knockout.js
          //ko.applyBindings(new AppViewModel(fbRef));
        });
    </script>

  </body>
</html>
